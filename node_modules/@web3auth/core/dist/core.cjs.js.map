{"version":3,"sources":["webpack://Core/webpack/bootstrap","webpack://Core/external \"@web3auth/base\"","webpack://Core/external \"@babel/runtime/helpers/defineProperty\"","webpack://Core/external \"@toruslabs/openlogin-jrpc\"","webpack://Core/external \"@web3auth/base-plugin\"","webpack://Core/./src/core.ts"],"names":["ADAPTER_CACHE_KEY","Web3AuthCore","SafeEventEmitter","constructor","options","ADAPTER_STATUS","NOT_READY","enableLogging","log","enableAll","disableAll","chainConfig","chainNamespace","Object","values","CHAIN_NAMESPACES","includes","WalletInitializationError","invalidParams","cachedAdapter","storageAvailable","window","sessionStorage","getItem","coreOptions","getChainConfig","chainId","subscribeToAdapterEvents","bind","provider","status","CONNECTED","connectedAdapterName","adapter","walletAdapters","_","Error","init","initPromises","keys","map","adapterName","chainConfigProxy","providedChainConfig","setChainConfig","autoConnect","catch","e","error","READY","Promise","all","configureAdapter","checkInitRequirements","adapterAlreadyExists","name","duplicateAdapterError","adapterNamespace","ADAPTER_NAMESPACES","MULTICHAIN","incompatibleChainNameSpace","currentChainNamespace","clearCache","removeItem","connectTo","walletName","loginParams","notFound","connect","logout","cleanup","WalletLoginError","notConnectedError","disconnect","getUserInfo","debug","addPlugin","plugin","plugins","pluginNamespace","PLUGIN_NAMESPACES","initWithWeb3Auth","walletAdapter","on","ADAPTER_EVENTS","data","cacheWallet","code","emit","DISCONNECTED","CONNECTING","ERRORED","ADAPTER_DATA_UPDATED","notReady","setItem"],"mappings":"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","file":"core.cjs.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","module.exports = require(\"@web3auth/base\");","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@toruslabs/openlogin-jrpc\");","module.exports = require(\"@web3auth/base-plugin\");","import { SafeEventEmitter } from \"@toruslabs/openlogin-jrpc\";\nimport {\n  ADAPTER_EVENTS,\n  ADAPTER_NAMESPACES,\n  ADAPTER_STATUS,\n  ADAPTER_STATUS_TYPE,\n  CHAIN_NAMESPACES,\n  CONNECTED_EVENT_DATA,\n  CustomChainConfig,\n  getChainConfig,\n  IAdapter,\n  IWeb3Auth,\n  log,\n  SafeEventEmitterProvider,\n  storageAvailable,\n  UserInfo,\n  WALLET_ADAPTER_TYPE,\n  WalletInitializationError,\n  WalletLoginError,\n  Web3AuthError,\n} from \"@web3auth/base\";\nimport { IPlugin, PLUGIN_NAMESPACES } from \"@web3auth/base-plugin\";\n\nexport interface Web3AuthCoreOptions {\n  /**\n   * custom chain configuration for chainNamespace\n   *\n   * @defaultValue mainnet config of provided chainNamespace\n   */\n  chainConfig: Partial<CustomChainConfig> & Pick<CustomChainConfig, \"chainNamespace\">;\n\n  /**\n   * setting to true will enable logs\n   *\n   * @defaultValue false\n   */\n  enableLogging?: boolean;\n}\n\nconst ADAPTER_CACHE_KEY = \"Web3Auth-cachedAdapter\";\nexport class Web3AuthCore extends SafeEventEmitter implements IWeb3Auth {\n  readonly coreOptions: Web3AuthCoreOptions;\n\n  public connectedAdapterName: string | null = null;\n\n  public status: ADAPTER_STATUS_TYPE = ADAPTER_STATUS.NOT_READY;\n\n  public cachedAdapter: string | null = null;\n\n  protected walletAdapters: Record<string, IAdapter<unknown>> = {};\n\n  private plugins: Record<string, IPlugin> = {};\n\n  constructor(options: Web3AuthCoreOptions) {\n    super();\n    if (options.enableLogging) log.enableAll();\n    else log.disableAll();\n    if (!options.chainConfig?.chainNamespace || !Object.values(CHAIN_NAMESPACES).includes(options.chainConfig?.chainNamespace))\n      throw WalletInitializationError.invalidParams(\"Please provide a valid chainNamespace in chainConfig\");\n\n    this.cachedAdapter = storageAvailable(\"sessionStorage\") ? window.sessionStorage.getItem(ADAPTER_CACHE_KEY) : null;\n\n    this.coreOptions = {\n      ...options,\n      chainConfig: {\n        ...getChainConfig(options.chainConfig?.chainNamespace, options.chainConfig?.chainId),\n        ...options.chainConfig,\n      },\n    };\n    this.subscribeToAdapterEvents = this.subscribeToAdapterEvents.bind(this);\n  }\n\n  get provider(): SafeEventEmitterProvider | null {\n    if (this.status === ADAPTER_STATUS.CONNECTED && this.connectedAdapterName) {\n      const adapter = this.walletAdapters[this.connectedAdapterName];\n      return adapter.provider;\n    }\n    return null;\n  }\n\n  set provider(_: SafeEventEmitterProvider | null) {\n    throw new Error(\"Not implemented\");\n  }\n\n  public async init(): Promise<void> {\n    const initPromises = Object.keys(this.walletAdapters).map((adapterName) => {\n      this.subscribeToAdapterEvents(this.walletAdapters[adapterName]);\n      // if adapter doesn't have any chain config yet thn set it based on provided namespace and chainId.\n      // if no chainNamespace or chainId is being provided, it will connect with mainnet.\n      if (!this.walletAdapters[adapterName].chainConfigProxy) {\n        const providedChainConfig = this.coreOptions.chainConfig;\n        if (!providedChainConfig.chainNamespace) throw WalletInitializationError.invalidParams(\"Please provide chainNamespace in chainConfig\");\n        const chainConfig = {\n          ...getChainConfig(providedChainConfig.chainNamespace, providedChainConfig.chainId),\n          ...providedChainConfig,\n        } as CustomChainConfig;\n        this.walletAdapters[adapterName].setChainConfig(chainConfig);\n      }\n      return this.walletAdapters[adapterName].init({ autoConnect: this.cachedAdapter === adapterName }).catch((e) => log.error(e));\n    });\n    this.status = ADAPTER_STATUS.READY;\n    await Promise.all(initPromises);\n  }\n\n  public configureAdapter(adapter: IAdapter<unknown>): Web3AuthCore {\n    this.checkInitRequirements();\n    const providedChainConfig = this.coreOptions.chainConfig;\n\n    if (!providedChainConfig.chainNamespace) throw WalletInitializationError.invalidParams(\"Please provide chainNamespace in chainConfig\");\n\n    const adapterAlreadyExists = this.walletAdapters[adapter.name];\n    if (adapterAlreadyExists) throw WalletInitializationError.duplicateAdapterError(`Wallet adapter for ${adapter.name} already exists`);\n    if (adapter.adapterNamespace !== ADAPTER_NAMESPACES.MULTICHAIN && adapter.adapterNamespace !== providedChainConfig.chainNamespace)\n      throw WalletInitializationError.incompatibleChainNameSpace(\n        `This wallet adapter belongs to ${adapter.adapterNamespace} which is incompatible with currently used namespace: ${providedChainConfig.chainNamespace}`\n      );\n\n    if (\n      adapter.adapterNamespace === ADAPTER_NAMESPACES.MULTICHAIN &&\n      adapter.currentChainNamespace &&\n      providedChainConfig.chainNamespace !== adapter.currentChainNamespace\n    ) {\n      // chainConfig checks are already validated in constructor so using typecast is safe here.\n      adapter.setChainConfig(providedChainConfig as CustomChainConfig);\n    }\n\n    this.walletAdapters[adapter.name] = adapter;\n    return this;\n  }\n\n  public clearCache() {\n    if (!storageAvailable(\"sessionStorage\")) return;\n    window.sessionStorage.removeItem(ADAPTER_CACHE_KEY);\n    this.cachedAdapter = null;\n  }\n\n  /**\n   * Connect to a specific wallet adapter\n   * @param walletName - Key of the walletAdapter to use.\n   */\n  async connectTo<T>(walletName: WALLET_ADAPTER_TYPE, loginParams?: T): Promise<SafeEventEmitterProvider | null> {\n    if (!this.walletAdapters[walletName])\n      throw WalletInitializationError.notFound(`Please add wallet adapter for ${walletName} wallet, before connecting`);\n    const provider = await this.walletAdapters[walletName].connect(loginParams);\n    return provider;\n  }\n\n  async logout(options: { cleanup: boolean } = { cleanup: false }): Promise<void> {\n    if (this.status !== ADAPTER_STATUS.CONNECTED || !this.connectedAdapterName) throw WalletLoginError.notConnectedError(`No wallet is connected`);\n    await this.walletAdapters[this.connectedAdapterName].disconnect(options);\n  }\n\n  async getUserInfo(): Promise<Partial<UserInfo>> {\n    log.debug(\"Getting user info\", this.status, this.connectedAdapterName);\n    if (this.status !== ADAPTER_STATUS.CONNECTED || !this.connectedAdapterName) throw WalletLoginError.notConnectedError(`No wallet is connected`);\n    return this.walletAdapters[this.connectedAdapterName].getUserInfo();\n  }\n\n  public async addPlugin(plugin: IPlugin): Promise<IWeb3Auth> {\n    if (this.plugins[plugin.name]) throw new Error(`Plugin ${plugin.name} already exist`);\n    if (plugin.pluginNamespace !== PLUGIN_NAMESPACES.MULTICHAIN && plugin.pluginNamespace !== this.coreOptions.chainConfig.chainNamespace)\n      throw new Error(\n        `This plugin belongs to ${plugin.pluginNamespace} namespace which is incompatible with currently used namespace: ${this.coreOptions.chainConfig.chainNamespace}`\n      );\n\n    this.plugins[plugin.name] = plugin;\n    await plugin.initWithWeb3Auth(this);\n    return this;\n  }\n\n  protected subscribeToAdapterEvents(walletAdapter: IAdapter<unknown>): void {\n    walletAdapter.on(ADAPTER_EVENTS.CONNECTED, async (data: CONNECTED_EVENT_DATA) => {\n      this.status = ADAPTER_STATUS.CONNECTED;\n      this.connectedAdapterName = data.adapter;\n      this.cacheWallet(data.adapter);\n      log.debug(\"connected\", this.status, this.connectedAdapterName);\n      await Promise.all(\n        Object.values(this.plugins).map((plugin) => {\n          return plugin.connect().catch((error: Web3AuthError) => {\n            // swallow error if connector adapter doesn't supports this plugin.\n            if (error.code === 5211) {\n              return;\n            }\n            // throw error;\n            log.error(error);\n          });\n        })\n      );\n      this.emit(ADAPTER_EVENTS.CONNECTED, { ...data } as CONNECTED_EVENT_DATA);\n    });\n\n    walletAdapter.on(ADAPTER_EVENTS.DISCONNECTED, async (data) => {\n      // get back to ready state for rehydrating.\n      this.status = ADAPTER_STATUS.READY;\n      if (storageAvailable(\"sessionStorage\")) {\n        const cachedAdapter = window.sessionStorage.getItem(ADAPTER_CACHE_KEY);\n        if (this.connectedAdapterName === cachedAdapter) {\n          this.clearCache();\n        }\n      }\n\n      log.debug(\"disconnected\", this.status, this.connectedAdapterName);\n      await Promise.all(\n        Object.values(this.plugins).map((plugin) => {\n          return plugin.disconnect().catch((error: Web3AuthError) => {\n            // swallow error if adapter doesn't supports this plugin.\n            if (error.code === 5211) {\n              return;\n            }\n            // throw error;\n            log.error(error);\n          });\n        })\n      );\n      this.connectedAdapterName = null;\n      this.emit(ADAPTER_EVENTS.DISCONNECTED, data);\n    });\n    walletAdapter.on(ADAPTER_EVENTS.CONNECTING, (data) => {\n      this.status = ADAPTER_STATUS.CONNECTING;\n      this.emit(ADAPTER_EVENTS.CONNECTING, data);\n      log.debug(\"connecting\", this.status, this.connectedAdapterName);\n    });\n    walletAdapter.on(ADAPTER_EVENTS.ERRORED, (data) => {\n      this.status = ADAPTER_STATUS.ERRORED;\n      this.clearCache();\n      this.emit(ADAPTER_EVENTS.ERRORED, data);\n      log.debug(\"errored\", this.status, this.connectedAdapterName);\n    });\n\n    walletAdapter.on(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED, (data) => {\n      log.debug(\"adapter data updated\", data);\n      this.emit(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED, data);\n    });\n  }\n\n  protected checkInitRequirements(): void {\n    if (this.status === ADAPTER_STATUS.CONNECTING) throw WalletInitializationError.notReady(\"Already pending connection\");\n    if (this.status === ADAPTER_STATUS.CONNECTED) throw WalletInitializationError.notReady(\"Already connected\");\n    if (this.status === ADAPTER_STATUS.READY) throw WalletInitializationError.notReady(\"Adapter is already initialized\");\n  }\n\n  private cacheWallet(walletName: string) {\n    if (!storageAvailable(\"sessionStorage\")) return;\n    window.sessionStorage.setItem(ADAPTER_CACHE_KEY, walletName);\n    this.cachedAdapter = walletName;\n  }\n}\n"],"sourceRoot":""}