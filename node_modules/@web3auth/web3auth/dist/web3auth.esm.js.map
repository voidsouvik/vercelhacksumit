{"version":3,"file":"web3auth.esm.js","sources":["../src/config.ts","../src/default.ts","../src/modalManager.ts"],"sourcesContent":[null,null,null],"names":["defaultSolanaDappModalConfig","chainNamespace","CHAIN_NAMESPACES","SOLANA","adapters","SOLANA_ADAPTERS","TORUS_SOLANA","label","showOnModal","showOnMobile","showOnDesktop","OPENLOGIN","PHANTOM","defaultEvmDappModalConfig","EIP155","EVM_ADAPTERS","TORUS_EVM","METAMASK","WALLET_CONNECT_V1","defaultSolanaWalletModalConfig","defaultEvmWalletModalConfig","getDefaultAdapterModule","params","name","customChainConfig","clientId","Object","values","includes","Error","finalChainConfig","getChainConfig","chainId","WALLET_ADAPTERS","TorusWalletAdapter","adapter","chainConfig","SolanaWalletAdapter","MetamaskAdapter","PhantomAdapter","WalletConnectV1Adapter","OpenloginAdapter","getOpenloginDefaultOptions","defaultOptions","adapterSettings","_objectSpread","Web3Auth","Web3AuthCore","constructor","options","providedChainConfig","authMode","modalConfig","loginModal","LoginModal","theme","uiConfig","appLogo","version","adapterListener","subscribeToLoginModalEvents","initModal","checkInitRequirements","allAdapters","Set","keys","walletAdapters","adapterConfigurationPromises","map","adapterName","adapterConfig","log","debug","ad","type","ADAPTER_CATEGORY","IN_APP","EXTERNAL","cachedAdapter","setAdapterSettings","chainConfigProxy","coreOptions","setChainConfig","adapterNames","Promise","all","hasInAppWallets","some","loginMethods","mergedLoginMethods","getAdapterSocialLogins","method","initPromises","subscribeToAdapterEvents","status","ADAPTER_STATUS","NOT_READY","init","autoConnect","initializeInAppWallet","error","READY","hasExternalWallets","initExternalWalletContainer","initExternalWalletAdapters","showExternalWalletsOnly","connect","provider","open","resolve","reject","once","ADAPTER_EVENTS","CONNECTED","ERRORED","err","externalWalletsInitialized","adaptersConfig","adaptersData","adapterPromises","adapterData","adapterInitResults","finalAdaptersConfig","forEach","result","addWalletLogins","info","addSocialLogins","loginMethodsOrder","OPENLOGIN_PROVIDERS","on","LOGIN_MODAL_EVENTS","LOGIN","connectTo","loginParams","INIT_EXTERNAL_WALLETS","DISCONNECT","logout","MODAL_VISIBILITY","visibility","emit","walletConnectStatus"],"mappings":"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"}