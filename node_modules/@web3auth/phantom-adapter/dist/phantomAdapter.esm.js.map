{"version":3,"file":"phantomAdapter.esm.js","sources":["../src/utils.ts","../src/phantomAdapter.ts"],"sourcesContent":[null,null],"names":["poll","callback","interval","count","Promise","resolve","reject","setTimeout","done","then","res","catch","err","detectProvider","options","isPhantomAvailable","window","solana","isPhantom","isAvailable","PhantomAdapter","BaseAdapter","constructor","WALLET_ADAPTERS","PHANTOM","ADAPTER_NAMESPACES","SOLANA","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","_wallet","off","_onDisconnect","rehydrated","status","CONNECTED","READY","emit","ADAPTER_EVENTS","DISCONNECTED","chainConfig","isWalletConnected","isConnected","provider","phantomProvider","_","Error","setAdapterSettings","init","checkInitializationRequirements","getChainConfig","WalletInitializationError","notInstalled","PhantomInjectedProvider","config","autoConnect","connect","error","log","checkConnectionRequirements","CONNECTING","adapter","handleDisconnect","_handleDisconnect","connectWithProvider","once","windowClosed","args","apply","reason","Web3AuthError","WalletLoginError","connectionError","message","publicKey","on","ERRORED","disconnect","cleanup","notConnectedError","disconnectionError","getUserInfo","injectedProvider","setupProvider","reconnected"],"mappings":"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"}